var t={d:(e,r)=>{for(var s in r)t.o(r,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:r[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{AU:()=>o,Bw:()=>Q,CI:()=>h,CO:()=>N,Ep:()=>q,F2:()=>a,FG:()=>u,HJ:()=>j,HO:()=>s,HV:()=>d,IX:()=>R,K9:()=>F,Kg:()=>c,LS:()=>Y,M4:()=>x,Mn:()=>E,OB:()=>f,Pw:()=>g,QR:()=>M,RG:()=>T,RI:()=>B,TD:()=>O,TH:()=>y,Tj:()=>i,UQ:()=>U,Us:()=>X,WY:()=>K,Wm:()=>J,_g:()=>C,aP:()=>z,bC:()=>H,bN:()=>b,bm:()=>D,de:()=>k,f9:()=>L,gh:()=>P,j9:()=>v,no:()=>A,oC:()=>l,qz:()=>$,sK:()=>w,tB:()=>_,tW:()=>I,uJ:()=>V,uj:()=>n,wW:()=>W,w_:()=>S,wx:()=>p,yT:()=>r,yy:()=>m,zA:()=>G});const r=(t,e)=>Math.random()*(e-t)+t,s=(t,e)=>Math.floor(r(t,e)),a=t=>.0174532925*t,n=t=>57.295779513*t,o=(t,e,r)=>t<e?e:t>r?r:t,i=(t,e,r,s,a)=>r==e?s:(t-e)*(a-s)/(r-e)+s,l=t=>{let e=parseFloat(t);return isNaN(e)?0:e},c=t=>{let e=t.match(/\-?\d*\.?\d*/gm);return e?e[0]:"0"},u=(t,e)=>{let r=e.toString().split(".")[1];return Number(t).toFixed(r?r.length:0)},h=()=>"ontouchstart"in window.document.documentElement,m=t=>new Promise(e=>setTimeout(e,t)),d=(t,e=1)=>t[t.length-e],f=t=>navigator.clipboard.writeText(t),g=()=>navigator.clipboard.readText(),p=t=>(new TextEncoder).encode(t),w=t=>"object"==typeof t&&null!==t?Array.isArray(t)?[...t]:{...t}:t;function b(t,e){if(t===e)return!0;if("object"!=typeof t||"object"!=typeof e||null===t||null===e)return!1;const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(let s of r)if(t[s]!==e[s])return!1;return!0}class y{constructor(t,e){this.send_cb=t,this.period=e}async send(t,e=!0){if(this.sending)this.cache=t;else if(this.sending=!0,await this.send_cb(t),await m(this.period),this.sending=!1,void 0!==this.cache&&(e||!b(this.cache,t))){let t=this.cache;this.cache=void 0,this.send(t)}}}function T(t,e){let r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.download=e,r.click()}async function C(){let t,e;return{wait:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}function N(t){const e=[];let r=!1;for(let s=0,a=0,n=0;n<t.length;n++){let o=t[n],i=t[n+1];e[s]=e[s]||[],e[s][a]=e[s][a]||"",'"'==o&&r&&'"'==i?(e[s][a]+=o,++n):'"'!=o?";"!=o&&","!=o||r?"\r"!=o||"\n"!=i||r?"\n"==o&&!r||"\r"==o&&!r?(++s,a=0):e[s][a]+=o:(++s,a=0,++n):++a:r=!r}return e}function I(t){let e=new Uint32Array([0]);for(let r=0;r<t.length;r++)e[0]+=(e[0]<<5)+t.charCodeAt(r);return e[0]}function M(t){let e=new Uint32Array(1);e[0]=0,e[0]=~e[0];let r="string"==typeof t;for(let s=0;s<t.length;s++){e[0]^=r?t[s].charCodeAt(0):t[s];for(let t=0;t<8;t++)e[0]=1&e[0]?e[0]/2^79764919:e[0]/2}return e[0]=~e[0],e[0]}function O(t){if(t){let e=document.createElement("style");e.innerText=t,document.head.appendChild(e)}return null}function S(t){for(;t.firstChild;)t.removeChild(t.lastChild)}const _=()=>(new Date).getTime(),j=t=>new Date(t-6e4*(new Date).getTimezoneOffset());class x{constructor(t,e,r){this.tout=t,this.cb=e,this.time=r}setTime(t){this.time=t}onReady(t){this.cb=t}start(){this.tmr||(this.tout?setTimeout(()=>{this.tmr=null,this.cb()},this.time):setInterval(this.cb,this.time))}restart(){this.stop(),this.start()}stop(){this.tout?clearTimeout(this.tmr):clearInterval(this.tmr),this.tmr=null}running(){return null!=this.tmr}}class R extends x{constructor(t,e){super(!1,t,e)}}class q extends x{constructor(t,e){super(!0,t,e)}}const v=()=>new Promise(t=>requestAnimationFrame(()=>setTimeout(t,0))),A=t=>{if(!Array.isArray(t))return t.clientWidth||t.clientHeight;for(let e of t)if(!A(e))return 0;return 1};async function P(t,e=null,r=10){for(;!A(t)&&--r;)await v();return r||(t=null),e&&e(t),t}const W=t=>"#"+Number(t).toString(16).padStart(6,"0"),H=(t,e,r)=>t<<16|e<<8|r,E=(t,e,r,s)=>H(t,e,r)<<8|s,F=t=>[t>>16&255,t>>8&255,255&t];function U(t,e,r,s){if(!isNaN(e)&&!isNaN(r))return isNaN(s)?`rgb(${t},${e},${r})`:`rgba(${t},${e},${r},${Number.isInteger(s)?s/255:s})`;if("number"==typeof t)return W(t);if("string"==typeof t){if(!t.startsWith("#"))return parseInt(t)?U(parseInt(t)):t;switch(t.length){case 4:case 5:return"#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+(5==t.length?t[4]+t[4]:"");case 7:case 9:return t;default:return"#000000"}}}const k=(t,e,r)=>{t%=360;let s=e*Math.min(r,1-r),a=(e,a=(e+t/30)%12)=>r-s*Math.max(Math.min(a-3,9-a,1),-1);return"rgb("+Math.round(255*a(0))+","+Math.round(255*a(8))+","+Math.round(255*a(4))+")"},D=(t,e,r)=>k(t/255*360,e/255,r/255),B=(t,e,r)=>D(t,e,r/2),L=(t,e)=>{let r=0;for(let s=0;s<3;s++){let s=(16711680&t)>>16;s=Math.min(255,Math.floor((s+1)*e)),r<<=8,r|=s,t<<=8}return r},$=t=>{if((t=U(t)).startsWith("#"))return t.slice(1).match(/.{2}/g).map(t=>parseInt(t,16));if(t.startsWith("rgb")){let e=t.match(/\((.+?)\)/);if(e)return e[1].split(",").map(Number)}return[0,0,0]},J=t=>{let e=0;return $(t).forEach((t,r)=>r<3&&(e+=t)),e/3},K=t=>(t=$(t),Math.max(...t)-Math.min(...t)),z=(t,e=128)=>J(t)<e?"white":"black";function G(t,e,r){return new Promise(s=>{let a=new XMLHttpRequest;a.onreadystatechange=()=>{a.readyState==XMLHttpRequest.DONE&&s(200==a.status)},a.upload.onprogress=t=>{t.lengthComputable&&r(parseInt(t.loaded/t.total*100))},a.onerror=t=>s(!1),a.open("POST",t,!0),a.send(e)})}async function Q(t,e={}){let r,s,a=null;e.timeout&&(r=new AbortController,s=setTimeout(()=>r.abort(),e.timeout),e.signal=r.signal);try{a=await fetch(t,e)}catch(t){}return clearTimeout(s),a&&a.ok?a:null}async function X(t,e=5e3){return Q(t,{timeout:e})}class V{clear(){this._queue.forEach(t=>t.res(null)),this._queue=[]}async fetch(t,e){return new Promise(r=>{this._queue.push({url:t,params:e,res:r}),1==this._queue.length&&this._next()})}async _next(){let t=this._queue[0];t.res(await Q(t.url,t.params)),this._queue.shift(),this._queue.length&&this._next()}_queue=[]}class Y{static has(t){return localStorage.hasOwnProperty(t)}static get(t){return JSON.parse(localStorage.getItem(t))}static remove(t){localStorage.removeItem(t)}static set(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(t){console.error(t)}}}const Z=e.TH,tt=e.uJ,et=e.K9,rt=e.IX,st=e.LS,at=e.Ep,nt=e.M4,ot=e.TD,it=e.f9,lt=e.no,ct=e.w_,ut=e.Pw,ht=e.OB,mt=e.AU,dt=e.aP,ft=e.QR,gt=e.uj,pt=e.WY,wt=e.RG,bt=e.wx,yt=e.Bw,Tt=e.Us,Ct=e.Kg,Nt=e.FG,It=e.tW,Mt=e.de,Ot=e.bm,St=e.RI,_t=e.zA,jt=e.wW,xt=e.CI,Rt=e.HV,qt=e.HJ,vt=e.sK,At=e._g,Pt=e.UQ,Wt=e.Tj,Ht=e.Wm,Et=e.tB,Ft=e.CO,Ut=e.oC,kt=e.F2,Dt=e.yT,Bt=e.HO,Lt=e.bC,$t=e.Mn,Jt=e.bN,Kt=e.yy,zt=e.qz,Gt=e.j9,Qt=e.gh;export{Z as DelaySender,tt as FetchQueue,et as HEXtoRGB,rt as Interval,st as LS,at as Timeout,nt as Timer,ot as addStyle,it as adjustColor,lt as checkRender,ct as clearNode,ut as clipRead,ht as clipWrite,mt as constrain,dt as contrastColor,ft as crc32,gt as degrees,pt as deltaColor,wt as download,bt as encodeText,yt as fetchT,Tt as fetchTimeout,Ct as findFloat,Nt as formatToStep,It as hash,Mt as hsl2rgb,Ot as hsl2rgb8,St as hsv2rgb8,_t as httpPost,jt as intToColor,xt as isTouch,Rt as last,qt as localTime,vt as makeCopy,At as makeDefer,Pt as makeWebColor,Wt as map,Ht as midColor,Et as now,Ft as parseCSV,Ut as parseFloatNoNaN,kt as radians,Dt as random,Bt as randomInt,Lt as rgbTo24,$t as rgbaTo24,Jt as shallowEqual,Kt as sleep,zt as splitColor,Gt as waitFrame,Qt as waitRender};